<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
        <title>腾讯充值</title>
        <link rel="stylesheet" href="pay.css">
        <script src="tool/jquery-3.1.1.min.js"></script>
    </head>
    <body>
        <div id="main">
            <header>
                <nav class="nav">
                    <ul>
                        <li class="nav-li li-q li-line-active">Q币充值</li>
                        <li class="nav-li li-game">游戏充值</li>
                        <li class="nav-li li-searve">服务开通</li>
                    </ul>
                </nav>
                <div class="placeholder">
                </div>
            </header>
            <main>
                <div class="main-box1 box-hidden">
                    <div class="">
                        <div class="div-input-qqnumber">
                            <form id="form-qqnumber" action="index.html" method="post">
                                <input id="id-input-qqnumber" type="text" name="qqNumber" value="" placeholder="请输入QQ账号" maxlength="12">
                                <span id="id-qqname">启亮</span>
                                <img class="img-del" src="pay/img/x.png" width="17px" height="17px">
                            </form>
                        </div>
                        <p class="p-balance">余额：<span class="span-balance">0</span>&nbsp;Q币</p>
                    </div>
                    <div class="div-button-chose">
                        <div class="div-buttons">
                            <button class="button-money button-ten button-money-color"type="button" name="">10 Q币</button>
                            <button class="button-money button-twenty" type="button" name="">20 Q币</button>
                            <button class="button-money button-hundred" type="button" name="">100 Q币</button>
                            <input class="button-money input-money dddd"  type="text" name="" value="" placeholder="其他数额"     maxlength="4";
>
                        </div>
                        <div class="div-discounted">
                            <p><span class="span-discounted">9.5</span><span class="span-y">元</span><span class="span-x">(95折)</span></p>
                        </div>
                        <button id="button-recharge" type="button" name="button">立即充值</button>
                    </div>
                    <div class="div-remark">
                        <p>备注：Q币仅能用于兑换腾讯公司直接运营的产品和服务，不能兑换现金，不能进行转账交易，不能兑换腾讯公司体系外的产品和服务。</p>
                    </div>

                </div>

                <div class="main-box2 box ">

                </div>

                <div class="main-box3 box ">

                </div>
            </main>
        </div>

        <script>

        // log函数
        var log = function() {
            console.log.apply(console, arguments)
        }
        $('.li-q').on('click', function () {
            $('.li-q').addClass('li-line-active')
            $('.li-game, .li-searve').removeClass('li-line-active')
            $('.main-box2, main-box3').hide()
            $('.main-box1').show()
        })

        $('.li-game').on('click', function () {
            $('.li-game').addClass('li-line-active')
            $('.li-q, .li-searve').removeClass('li-line-active')
            $('.main-box1, main-box3').hide()
            $('.main-box2').show()
        })

        $('.li-searve').on('click', function () {
            $('.li-searve').addClass('li-line-active')
            $('.li-game, .li-q').removeClass('li-line-active')
            $('.main-box1, main-box2').hide()
            $('.main-box3').show()
        })

        $('.button-ten').on('click', function () {
            $('.button-ten').addClass('button-money-color')
            $('.button-ten').siblings().removeClass('button-money-color input-border')
            var y = sale(10)
        })
        $('.button-twenty').on('click', function () {
            $('.button-twenty').addClass('button-money-color')
            $('.button-twenty').siblings().removeClass('button-money-color input-border')
            var y = sale(20)
        })
        $('.button-hundred').on('click', function () {
            $('.button-hundred').addClass('button-money-color')
            $('.button-hundred').siblings().removeClass('button-money-color input-border')
            var y = sale(100)
        })
        $('.input-money').on('click', function () {
            $('.input-money').addClass('input-border')
            $('.div-buttons').children().removeClass('button-money-color')
            $('.span-discounted').text(0)
        })

        $('.input-money').on('keypress', function (event) {
            var keys = event.key
            var numbers = '0123456789'
            if (!numbers.includes(keys)) {
                event.preventDefault()
            }
        })

        $('.input-money').on('keyup', function (event) {
            var keys = event.key
            var input = $('.input-money')
            var numbers = '0123456789'
            var value = input.val()
            if (keys === 'Backspace') {
                sale(value)
            } else if (numbers.includes(keys)) {
                sale(value)
            }
        })

        $('#id-input-qqnumber').on('focus', function () {
            $('.img-del').show()
        })
        $('#id-input-qqnumber').on('keypress', function () {
            var keys = event.key
            var input = $('#id-input-qqnumber')
            var numbers = '0123456789'
            if (keys === 'Backspace') {
                var value = input.val()
            } else if (numbers.includes(keys)) {
                var value = input.val()
            } else if (!numbers.includes(keys)) {
                event.preventDefault()
            }
        })
        

        $('.img-del').on('click', function () {
            $('#id-input-qqnumber').val('')
            $('.img-del').hide()
        })

        $('#id-input-qqnumber').on('blur', function () {
        setTimeout("$('.img-del').hide()", 400)
        })

        var sale = function (num) {
            var x = (num * 0.95)
            var y = (Math.round(x * 100) / 100)
            $('.span-discounted').text(y)
        }

        // $('#button-recharge').on('click', function () {
        //     var inputMoner = $('.input-money').val()
        //     if () {
        //     }
        // })


        </script>
    </body>
</html>
